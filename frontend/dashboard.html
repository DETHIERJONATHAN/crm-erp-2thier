<!DOCTYPE html>
<html lang='fr'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Tableau de bord</title>
    <link rel='stylesheet' href='css/style.css'>
</head>
<body>
    <h1>Bienvenue sur votre tableau de bord</h1>
    <p id="welcomeMessage"></p>
    <button onclick="logout()">Se déconnecter</button>

    <script>
        // Vérifie si l'utilisateur est connecté
        const token = localStorage.getItem('token');
        const email = localStorage.getItem('userEmail');
        const role = localStorage.getItem('userRole');
        if (!token) {
            alert("Accès refusé. Veuillez vous connecter.");
            setTimeout(() => { window.location.href = 'index.html'; }, 1000);
        } else {
            document.getElementById('welcomeMessage').innerText = `Vous êtes connecté en tant que : ${email} (rôle : ${role})`;
        }

        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('userEmail');
            localStorage.removeItem('userRole');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
